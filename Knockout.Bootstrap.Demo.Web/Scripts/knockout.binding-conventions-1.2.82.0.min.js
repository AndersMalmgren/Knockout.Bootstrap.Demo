(function(o,g){if(o.ko===undefined){throw"This library is dependant on Knockout";}String.prototype.endsWith=String.prototype.endsWith?String.prototype.endsWith:function(p){return this.indexOf(p,this.length-p.length)!==-1;};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"");};var b={roots:[o],excludeConstructorNames:["Class"]};var l=false;g.bindingConventions={init:function(p){l=false;g.utils.extend(b,p);},conventionBinders:{}};g.bindingConventions.ConventionBindingProvider=function(){this.orgBindingProvider=g.bindingProvider.instance||new g.bindingProvider();this.orgNodeHasBindings=this.orgBindingProvider.nodeHasBindings;this.attribute="data-name";this.virtualAttribute="ko name:";};g.bindingConventions.ConventionBindingProvider.prototype={getMemberName:function(r){var q=null;if(r.nodeType===1){q=r.getAttribute(this.attribute);}else{if(r.nodeType===8){var s=""+r.nodeValue||r.text;var p=s.indexOf(this.virtualAttribute);if(p>-1){q=s.substring(p+this.virtualAttribute.length).trim();}}}return q;},nodeHasBindings:function(p){return this.orgNodeHasBindings(p)||this.getMemberName(p)!==null;},getBindings:function(r,p){var q=this.getMemberName(r);var s=(q!=null&&r.nodeType===8)?null:this.orgBindingProvider.getBindings(r,p);if(q!=null){s=s||{};m(q,r,p,s);}return s;}};g.bindingProvider.instance=new g.bindingConventions.ConventionBindingProvider();var d=function(r,p){var s=r.split(".");for(var q=0;q<s.length;q++){p=p[s[q]];}return p;};var m=function(v,t,p,q){var s=p[v]?p[v]:p.$data[v];if(s===undefined){s=d(v,p.$data);}if(s===undefined){throw"Can't resolve member: "+v;}var y=g.utils.unwrapObservable(s);var x=typeof y;var r=t.__bindingConvention;if(r===undefined){for(var u in g.bindingConventions.conventionBinders){if(g.bindingConventions.conventionBinders[u].rules!==undefined){r=g.bindingConventions.conventionBinders[u];var w=true;if(y==null&&r.deferredApplyIfDataNotSet===true){continue;}if(r.rules.length==1){w=r.rules[0](v,t,q,y,x,s,p.$data,p);}else{a(r.rules,function(z){w=w&&z(v,t,q,y,x,s,p.$data,p);});}if(w){t.__bindingConvention=r;break;}}}}if(t.__bindingConvention===undefined&&y!=null){throw"No convention was found for "+v;}if(t.__bindingConvention!==undefined){t.__bindingConvention.apply(v,t,q,y,x,s,p.$data,p);}};g.bindingConventions.conventionBinders.button={rules:[function(r,q,p,t,s){return q.tagName==="BUTTON"&&s==="function";}],apply:function(t,r,p,v,u,q,w){p.click=v;var s=w["can"+e(t)];if(s!==undefined){p.enable=s;}}};g.bindingConventions.conventionBinders.options={rules:[function(r,q,p,s){return q.tagName==="SELECT"&&s.push;}],apply:function(t,r,p,u,x,q,y){p.options=u;var w=false;var s;n(t,function(B){var z=e(B);var A=y["selected"+z];if(A===undefined){return false;}p.value=A;s=y["canChangeSelected"+z];if(s!==undefined){p.enable=s;}w=true;return true;});if(w){return;}var v=e(t);p.selectedOptions=y["selected"+v];s=y["canChangeSelected"+v];if(s!==undefined){p.enable=s;}}};g.bindingConventions.conventionBinders.input={rules:[function(q,p){return p.tagName==="INPUT"||p.tagName==="TEXTAREA";}],apply:function(t,r,p,v,u,q,w){if(u==="boolean"){if(g.utils.ieVersion===undefined){p.attr={type:"checkbox"};}p.checked=q;}else{p.value=q;}var s=w["canChange"+e(t)];if(s!==undefined){p.enable=s;}}};g.bindingConventions.conventionBinders.visible={rules:[function(r,q,p,t,s){return s==="boolean"&&q.tagName!=="INPUT";}],apply:function(s,r,p,u,t,q){p.visible=q;}};g.bindingConventions.conventionBinders.text={rules:[function(r,q,p,t,s){return s!=="object"&&s!=="boolean"&&q.tagName!=="IMG"&&q.tagName!=="INPUT"&&q.tagName!=="TEXTAREA"&&!h(q);}],apply:function(s,r,p,u,t,q){p.text=q;},deferredApplyIfDataNotSet:true};g.bindingConventions.conventionBinders["with"]={rules:[function(r,q,p,t,s){return(s==="object"||t===undefined)&&(t==null||t.push===undefined)&&h(q);}],apply:function(s,r,p,u,t,q){p["with"]=q;}};g.bindingConventions.conventionBinders.foreach={rules:[function(s,r,q,p){return p&&p.push&&h(r);}],apply:function(t,s,q,p,u,r){q.foreach=r;}};g.bindingConventions.conventionBinders.template={rules:[function(s,r,q,p,t){return t==="object"&&!h(r);}],apply:function(x,s,q,p,z,v){var t=p!=null&&p.push!==undefined;var u=p==null||(t&&p.length==0);var y=null;if(!u){var r=p?c(t?p[0]:p):undefined;var w="Model";if(r!=null&&r.endsWith(w)){y=r.substring(0,r.length-w.length);if(!y.endsWith("View")){y=y+"View";}}if(y==null){throw"View name could not be found";}}q.template={name:y,"if":v};if(t){q.template.foreach=p;}else{q.template.data=p;}},deferredApplyIfDataNotSet:true};g.bindingConventions.conventionBinders.image={rules:[function(r,q,p,t,s){return s==="string"&&q.tagName==="IMG";}],apply:function(s,r,p,u,t,q){p.attr={src:q};},deferredApplyIfDataNotSet:true};var e=function(p){return p.substring(0,1).toUpperCase()+p.substring(1);};var j=[{end:"ies",use:"y"},"es","s"];var n=function(q,p){var r=null;a(j,function(t){var s=t.use;t=t.end||t;if(q.endsWith(t)){r=q.substring(0,q.length-t.length);r=r+(s||"");if(p){return !p(r);}return true;}return true;});return r;};var a=function(q,p){for(var r=0;r<q.length;r++){var s=p(q[r]);if(s===false){break;}}};var h=function(p){if(p.__nodeHasContent!==undefined){return p.__nodeHasContent;}return p.__nodeHasContent=(p.nodeType===p.COMMENT_NODE&&(p.nextSibling.nodeType===p.ELEMENT_NODE||f(p)))||(p.nodeType===p.ELEMENT_NODE&&p.innerHTML.trim()!=="");};var f=function(p){if(p.nextSibling.nodeType===p.COMMENT_NODE&&p.nextSibling.textContent.indexOf("/ko")>-1){return false;}if(p.nextSibling.nodeType===p.nextSibling.ELEMENT_NODE||p.nextSibling.textContent.trim()!==""){return true;}return f(p.nextSibling);};var k=function(){var p=[];var q=function(t){if(t==null||t.__fcnChecked||t===o){return;}t.__fcnChecked=true;if(t.__fcnChecked===undefined){return;}p.push(t);for(var r in t){var s=t[r];if(s!==undefined&&r.endsWith("Model")&&typeof s==="function"){s.__fcnName=r;}q(s);}};a(b.roots,function(r){q(r);});a(p,function(r){delete r.__fcnChecked;});};var c=function(x,u){var p=u?x:x.constructor;if(p.__fcnName!==undefined){return p.__fcnName;}var s=/function (.{1,})\(/;var y=(s).exec(p.toString());var v=(y&&y.length>1)?y[1]:undefined;var t;var q=false;a(b.excludeConstructorNames,function(z){if(z===v){q=true;return false;}return true;});if(v===undefined||q){var r=[];var w=function(C){if(C==null||C===o.document||C===o.html||C===o.history||C===o.frameElement||typeof C==="function"||C.__fcnChecked===true||(C.location&&C.location!=o.location)){return;}try{C.__fcnChecked=true;}catch(z){return;}if(C.__fcnChecked===undefined){return;}r.push(C);for(t in C){var B=C[t];if(B===p){return t;}var A=w(B);if(A!==undefined){return A;}}};a(b.roots,function(z){v=w(z);if(v!==undefined){return false;}return true;});for(t in r){delete r[t].__fcnChecked;}}p.__fcnName=v;return v;};var i=g.applyBindings;g.applyBindings=function(q,p){if(l===false){k();l=true;}i(q,p);};g.bindingConventions.utils={findConstructorName:c,singularize:n,getPascalCased:e,nodeHasContent:h};})(window,ko);