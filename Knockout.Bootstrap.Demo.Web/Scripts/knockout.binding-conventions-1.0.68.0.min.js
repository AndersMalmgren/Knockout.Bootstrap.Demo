(function(n,f){if(n.ko===undefined){throw"This library is dependant on Knockout";}String.prototype.endsWith=String.prototype.endsWith?String.prototype.endsWith:function(o){return this.indexOf(o,this.length-o.length)!==-1;};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"");};var b={roots:[n],excludeConstructorNames:["Class"]};var k=false;f.bindingConventions={init:function(o){k=false;f.utils.extend(b,o);},conventionBinders:{}};f.bindingConventions.ConventionBindingProvider=function(){this.orgBindingProvider=f.bindingProvider.instance||new f.bindingProvider();this.orgNodeHasBindings=this.orgBindingProvider.nodeHasBindings;this.attribute="data-name";this.virtualAttribute="ko name:";};f.bindingConventions.ConventionBindingProvider.prototype={getMemberName:function(q){var p=null;if(q.nodeType===1){p=q.getAttribute(this.attribute);}else{if(q.nodeType===8){var r=""+q.nodeValue||q.text;var o=r.indexOf(this.virtualAttribute);if(o>-1){p=r.substring(o+this.virtualAttribute.length).trim();}}}return p;},nodeHasBindings:function(o){return this.orgNodeHasBindings(o)||this.getMemberName(o)!==null;},getBindings:function(q,o){var p=this.getMemberName(q);var r=f.bindingHandlers[p]?null:this.orgBindingProvider.getBindings(q,o);if(p!=null){r=r||{};l(p,q,o,r);}return r;}};f.bindingProvider.instance=new f.bindingConventions.ConventionBindingProvider();var d=function(q,o){var r=q.split(".");for(var p=0;p<r.length;p++){o=o[r[p]];}return o;};var l=function(u,s,o,p){var r=o[u]?o[u]:o.$data[u];if(r==null){r=d(u,o.$data);}var x=f.utils.unwrapObservable(r);var w=typeof x;var q=s.__bindingConvention;if(q===undefined){for(var t in f.bindingConventions.conventionBinders){if(f.bindingConventions.conventionBinders[t].rules!==undefined){q=f.bindingConventions.conventionBinders[t];var v=true;if(x==null&&q.deferredApplyIfDataNotSet===true){continue;}if(q.rules.length==1){v=q.rules[0](u,s,p,x,w,r,o.$data,o);}else{a(q.rules,function(y){v=v&&y(u,s,p,x,w,r,o.$data,o);});}if(v){s.__bindingConvention=q;break;}}}}if(s.__bindingConvention===undefined&&x!=null){throw"No convention was found for "+u;}if(s.__bindingConvention!==undefined){s.__bindingConvention.apply(u,s,p,x,w,r,o.$data,o);}};f.bindingConventions.conventionBinders.button={rules:[function(q,p,o,s,r){return p.tagName==="BUTTON"&&r==="function";}],apply:function(s,q,o,u,t,p,v){o.click=u;var r=v["can"+e(s)];if(r!==undefined){o.enable=r;}}};f.bindingConventions.conventionBinders.options={rules:[function(q,p,o,r){return p.tagName==="SELECT"&&r.push;}],apply:function(s,q,o,t,w,p,x){o.options=t;var v=false;var r;m(s,function(A){var y=e(A);var z=x["selected"+y];if(z===undefined){return false;}o.value=z;r=x["canChangeSelected"+y];if(r!==undefined){o.enable=r;}v=true;return true;});if(v){return;}var u=e(s);o.selectedOptions=x["selected"+u];r=x["canChangeSelected"+u];if(r!==undefined){o.enable=r;}}};f.bindingConventions.conventionBinders.input={rules:[function(p,o){return o.tagName==="INPUT"||o.tagName==="TEXTAREA";}],apply:function(s,q,o,u,t,p,v){if(t==="boolean"){if(f.utils.ieVersion===undefined){o.attr={type:"checkbox"};}o.checked=p;}else{o.value=p;}var r=v["canChange"+e(s)];if(r!==undefined){o.enable=r;}}};f.bindingConventions.conventionBinders.visible={rules:[function(q,p,o,s,r){return r==="boolean"&&p.tagName!=="INPUT";}],apply:function(r,q,o,t,s,p){o.visible=p;}};f.bindingConventions.conventionBinders.text={rules:[function(q,p,o,s,r){return r!=="object"&&r!=="boolean"&&p.tagName!=="INPUT"&&p.tagName!=="TEXTAREA"&&!g(p);}],apply:function(r,q,o,t,s,p){o.text=p;},deferredApplyIfDataNotSet:true};f.bindingConventions.conventionBinders["with"]={rules:[function(q,p,o,s,r){return(r==="object"||s===undefined)&&(s==null||s.push===undefined)&&g(p);}],apply:function(r,q,o,t,s,p){o["with"]=p;}};f.bindingConventions.conventionBinders.foreach={rules:[function(r,q,p,o){return o&&o.push&&g(q);}],apply:function(s,r,p,o,t,q){p.foreach=q;}};f.bindingConventions.conventionBinders.template={rules:[function(r,q,p,o,s){return s==="object"&&!g(q);}],apply:function(w,r,p,o,y,u){var s=o!=null&&o.push!==undefined;var t=o==null||(s&&o.length==0);var x=null;if(!t){var q=o?c(s?o[0]:o):undefined;var v="Model";if(q!=null&&q.endsWith(v)){x=q.substring(0,q.length-v.length);if(!x.endsWith("View")){x=x+"View";}}if(x==null){throw"View name could not be found";}}p.template={name:x,"if":u};if(s){p.template.foreach=o;}else{p.template.data=o;}},deferredApplyIfDataNotSet:true};var e=function(o){return o.substring(0,1).toUpperCase()+o.substring(1);};var i=[{end:"ies",use:"y"},"es","s"];var m=function(p,o){var q=null;a(i,function(s){var r=s.use;s=s.end||s;if(p.endsWith(s)){q=p.substring(0,p.length-s.length);q=q+(r||"");if(o){return !o(q);}return true;}return true;});return q;};var a=function(p,o){for(var q=0;q<p.length;q++){var r=o(p[q]);if(r===false){break;}}};var g=function(o){return(o.nodeType===8&&o.nextSibling.nodeType===1)||(o.nodeType===1&&o.innerHTML.trim()!=="");};var j=function(){var o=[];var p=function(s){if(s==null||s.__fcnChecked||s===n){return;}s.__fcnChecked=true;if(s.__fcnChecked===undefined){return;}o.push(s);for(var q in s){var r=s[q];if(r!==undefined&&q.endsWith("Model")&&typeof r==="function"){r.__fcnName=q;}p(r);}};a(b.roots,function(q){p(q);});a(o,function(q){delete q.__fcnChecked;});};var c=function(w,t){var o=t?w:w.constructor;if(o.__fcnName!==undefined){return o.__fcnName;}var r=/function (.{1,})\(/;var x=(r).exec(o.toString());var u=(x&&x.length>1)?x[1]:undefined;var s;var p=false;a(b.excludeConstructorNames,function(y){if(y===u){p=true;return false;}return true;});if(u===undefined||p){var q=[];var v=function(B){if(B==null||B===n.document||B===n.html||B===n.history||B===n.frameElement||typeof B==="function"||B.__fcnChecked===true||(B.location&&B.location!=n.location)){return;}try{B.__fcnChecked=true;}catch(y){return;}if(B.__fcnChecked===undefined){return;}q.push(B);for(s in B){var A=B[s];if(A===o){return s;}var z=v(A);if(z!==undefined){return z;}}};a(b.roots,function(y){u=v(y);if(u!==undefined){return false;}return true;});for(s in q){delete q[s].__fcnChecked;}}o.__fcnName=u;return u;};var h=f.applyBindings;f.applyBindings=function(p,o){if(k===false){j();k=true;}h(p,o);};f.bindingConventions.utils={findConstructorName:c,singularize:m,getPascalCased:e};})(window,ko);