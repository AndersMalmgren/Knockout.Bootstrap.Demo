ko.bootstrap=(function(b){if(b==undefined){throw"ko.bootstrap is dependant on knockout";}if(b.bindingConventions==undefined){throw"ko.bootstrap is dependant on ko.bindingConventions";}var a=function(d,e){this.shared="shared";this.currentView=null;this.templateCache={};this.url=e||"templates";this.initEngine();this.loadTemplates(this.shared,d);};a.prototype={initEngine:function(){var e=new b.nativeTemplateEngine();var d=this;e.makeTemplateSource=function(f){return new c(f,d);};b.setTemplateEngine(e);},loadTemplates:function(f,d){var e=function(g){this.templateCache[f]=g;this.currentView=g;d();}.bind(this);if(this.templateCache[f]!==undefined){e(this.templateCache[f]);}else{$.getJSON(this.url,{root:f},e.bind(this));}},loadView:function(f,d){var g="Model";var i="View";var e=b.bindingConventions.utils.findConstructorName(f);var h=e.substring(0,e.length-g.length);if(h.endsWith(i)){h=h.substr(0,h.length-i.length);}this.loadTemplates(h,function(){d(f);});}};var c=function(e,d){this.template=e;this.api=d;};c.prototype.text=function(){var d=this.api.currentView[this.template]||this.api.templateCache[this.api.shared][this.template];if(d==null){throw"View '"+this.template+"' could not be found";}return d;};return{init:function(e,d){return new a(e,d);}};})(ko=window.ko);